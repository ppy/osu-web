/**
*    Copyright 2015 ppy Pty. Ltd.
*
*    This file is part of osu!web. osu!web is distributed with the hope of
*    attracting more community contributions to the core ecosystem of osu!.
*
*    osu!web is free software: you can redistribute it and/or modify
*    it under the terms of the Affero GNU General Public License as published by
*    the Free Software Foundation, either version 3 of the License, or
*    (at your option) any later version.
*
*    osu!web is distributed WITHOUT ANY WARRANTY; without even the implied
*    warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
*    See the GNU Affero General Public License for more details.
*
*    You should have received a copy of the GNU Affero General Public License
*    along with osu!web.  If not, see <http://www.gnu.org/licenses/>.
*
*/
body {
  font-size: 16px;
  background-color: #d3d3d3;
  min-width: 320px;
}

body, input {
  font-family: "Exo 2", "Arial Grande",Tahoma,Helvetica,Arial,sans-serif;
  font-weight: normal;
}

h1 {
  font-size: 30px;
  font-weight: normal;
  margin: 0px 0px 20px 0px;
}

h2 {
  font-weight: normal;
  margin: 10px 0 0 0;
}

h1, h2, h3, h4 {
  font-style: italic;
}

a {
  outline-style: none;
  &:link, &:visited, &:hover, &:active { outline-style: none; }

  text-decoration: none;
  &:hover { text-decoration: underline; }

  -webkit-transition : color 80ms linear;
  -moz-transition    : color 80ms linear;
  -o-transition      : color 80ms linear;
  -ms-transition     : color 80ms linear;
  transition         : color 80ms linear;
}

a.object_link
{
  color: @gray !important;
}

//jquery-placeholder
input, textarea { color: #000; }

@font-face {
  font-family: 'osu!';
  src: url('@{fa-osu-font-path}/osu!font.eot');
  src:
    url('@{fa-osu-font-path}/osu!font.eot?#iefix') format('embedded-opentype'),
    url('@{fa-osu-font-path}/osu!font.woff') format('woff'),
    url('@{fa-osu-font-path}/osu!font.ttf') format('truetype'),
    url('@{fa-osu-font-path}/osu!font.svg#osu!font') format('svg');
  font-weight: normal;
  font-style: normal;
}

.unselectable {
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.selectable {
  -moz-user-select: text;
  -khtml-user-select: text;
  -webkit-user-select: text;
  -ms-user-select: text;
  user-select: text;
}

body .initially-hidden {
  display: none;
}

.clear {
  clear: both;
}

.split {
  width: 100%;

  > .left {
    display: inline-block;
    float: left;
    padding: 10px;
  }

  > .right {
    display: inline-block;
    float: right;
    text-align: right;
    padding: 10px;
  }
}

.selector {
  color: @gray-light !important;
  margin-top: 10px;
  font-size: 90%;

  > a {
    color: @gray-light !important;
    margin-right: 25px;
  }

  .active {
    font-weight: bold;
  }

  .header {
    display: inline-block;
    font-weight: bold;
    width: 100px;
  }
}

.large {
  font-size: 120%;
}

.box_shadow {
  box-shadow: 0 0 5px #e9e9e9;
}

.paddingvertical5 {
  padding: 10px 0;
}

//loading logic

body.loading #loading-area {
  display: block;
}

body.loading #loading-screen {
  background:#000;
  backface-visibility: hidden;
  position:fixed;
  top:0; left:0;
  width:100%;
  height:100%;
  z-index:9998;
  opacity: 0.2;
  user-select: none;
}

@loading-width: 200px;
@loading-height: 40px;
@animation-length: 1.6s;
@animation-delay: @animation-length / 4;

#loading-screen {
  opacity: 0;
  transition: opacity 0.4s ease-in-out;;
}

#loading-area {
  display: none;
  backface-visibility: hidden;
  position: fixed;
  width: @loading-width;
  height: @loading-height;
  margin-left: -@loading-width / 2;
  margin-top: -@loading-height / 2;
  top: 50%;
  left: 50%;
  z-index: 9999;
  user-select: none;
}

.spinner {
  width: 100%;
  height: 100%;
}

.spinner-container {
  .approach
  {
    width: 64px;
    height: 64px;
    border-radius: 100%;
    border: 3px solid;
    position: absolute;
    -webkit-animation: approach @animation-length infinite linear;
    animation: approach @animation-length infinite linear;
    -webkit-animation-fill-mode: both;
    animation-fill-mode: both;
  }

  .hit
  {
    box-shadow: 0 0 10px fade(#000, 20%);
    width: 64px;
    height: 64px;
    border-radius: 100%;
    border: solid 3px #fff;
    position: absolute;
    -webkit-animation: burst @animation-length infinite linear;
    animation: burst @animation-length infinite linear;
    -webkit-animation-fill-mode: both;
    animation-fill-mode: both;
  }

  .obj1 {
    @colour: #8866ee;
    &.hit { background-color: @colour; }
    &.approach { border-color: @colour; }

    left: 0;
    top: 50%;
  }

  .obj2 {
    @colour: #ff55cc;
    &.hit { background-color: @colour; }
    &.approach { border-color: @colour; }

    left: 33%;
    top: 100%;

    -webkit-animation-delay: @animation-delay;
    animation-delay: @animation-delay;
  }

  .obj3 {
    @colour: #66ccff;
    &.hit { background-color: @colour; }
    &.approach { border-color: @colour; }

    left: 66%;
    top: 0;

    -webkit-animation-delay: @animation-delay * 2;
    animation-delay: @animation-delay * 2;
  }

  .obj4 {
    @colour: #ffcc22;
    &.hit { background-color: @colour; }
    &.approach { border-color: @colour; }

    left: 100%;
    top: 50%;

    -webkit-animation-delay: @animation-delay * 3;
    animation-delay: @animation-delay * 3;
  }

}

@-webkit-keyframes burst {
  0% {
    -webkit-transform: scale(0.5);
    -webkit-opacity: 0.0;
  }

  20% {
    -webkit-transform: scale(0.5);
    -webkit-opacity: 1.0;
  }

  40%, 100% {
    -webkit-transform: scale(1.0);
    -webkit-opacity: 0.0;
  }
}

@-webkit-keyframes approach {
  0% {
    -webkit-transform: scale(1.0);
    -webkit-opacity: 0.0;
  }

  20% {
    -webkit-transform: scale(0.5);
    -webkit-opacity: 1.0;
  }

  20.1%, 100% {
    -webkit-transform: scale(0.5);
    -webkit-opacity: 0.0;
  }
}

@keyframes approach {
  0% {
    transform: scale(1.0);
    opacity: 0.0;
  }

  20% {
    transform: scale(0.5);
    opacity: 1.0;
  }

  20.1%, 100% {
    transform: scale(0.5);
    opacity: 0.0;
  }
}

@keyframes burst {
  0% {
    transform: scale(0.5);
    opacity: 0.0;
  }

  20% {
    transform: scale(0.5);
    opacity: 1.0;
  }

  40%, 100% {
    transform: scale(1.0);
    opacity: 0.0;
  }
}

.form-control {
  .inset-box-shadow;
  border-radius: @input-border-radius;
  border: none;
  font-size: 14px;

  &:focus {
    .inset-box-shadow;
  }
}

select.form-control {
    .default-box-shadow;
    font-weight: 700;

    &:focus {
      .default-box-shadow;
    }
  }

.btn-bg() {
  background-image: url("/images/backgrounds/button.svg");
  background-size: 200px;
  background-position: 50% 50%;
}
.icon-bg() {
  .btn-bg;
  background-size: cover;
}

.btn-osu {
  &:extend(.btn all);
  &:extend(.default-text-shadow);
  &, &:focus, &.focus, &:hover {
    color: #fff;
  }

  &, &:active, &.active {
    &:focus, &.focus {
      outline: none;
    }
  }

  &, &:active, &.active {
    .btn-bg;
    &:extend(.default-box-shadow);
  }

  border: none;

  &--small {
    font-size: 12px;
    padding: @grid-gutter-width/4 @grid-gutter-width/2;
  }

  &--lite {
    font-size: 12px;
    background-color: @gray-light;

    &, &:active, &.active {
      background-image: none;
    }

    &[disabled], &.disabled {
      background-color: @gray-lighter;
      color: #000;
    }
  }

  &--profile-page-edit {
    width: 140px;
  }
}

.btn-osu(@main, @secondary) {
  background-color: @main;
  box-shadow: 0 10px @secondary, 0 7px 10px fade(#000, 80%);
  margin-bottom: 10px;

  transition: all .1s ease-in-out;

  &[disabled], &.disabled {
    background-color: lighten(@main, 20%);
    box-shadow: 0 10px lighten(@secondary, 30%), 0 7px 10px fade(#000, 60%);
  }

  &:focus {
    background-color: darken(@main, 5%);
    box-shadow: 0 10px darken(@secondary, 5%), 0 7px 10px fade(#000, 80%);
  }

  &:hover {
    background-color: darken(@main, 10%);
    box-shadow: 0 10px darken(@secondary, 10%), 0 7px 10px fade(#000, 80%);
  }

  &:active {
    transform: translate(0px, 5px);

    background-color: darken(@main, 10%);
    box-shadow: 0px 5px darken(@secondary, 10%), 0px 5px 5px fade(#000, 80%);
  }
}

.btn-osu-default {
  .btn-osu(@blue-dark, @blue-darker);
}

.btn-osu-danger {
  .btn-osu(@pink, @pink-dark);
}

label {
  text-transform: uppercase;
  font-size: 12px;
}

input[type="checkbox"], input[type="radio"] {
  margin: 2px 0 0;
}

.big-button {
  display: flex;
  justify-content: center;

  a, button {
    min-width: 220px;
    min-height: 35px;
  }
}

.btn-flat {
  border: none;
  background: transparent;
}

.shadow-selected {
  .thick-box-shadow;
}

.shadow-hover {
  .default-box-shadow;
  .fade-element(120ms);

  &:hover {
    .thicker-box-shadow;
  }
}

a[disabled] { &:extend(.btn[disabled]); }

.clickable-row { cursor: pointer; }

.hide-overflow {
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.visible-xs-flex {
  display: flex !important;

  @media @desktop {
    display: none !important;
  }
}

.flex-none { flex: none; }
.flex-full { flex: 1 0 auto; }

.flex-row {
  display: flex;
  flex-direction: column;
  @media @desktop {
    flex-direction: row;
  }
}

.flex-column {
  display: flex;
  flex-direction: column;
}

.flex-col-66 {
  padding-left: @grid-gutter-width/2;
  padding-right: @grid-gutter-width/2;

  @media @desktop {
    flex-basis: 100% * 2 / 3;
    max-width: 100% * 2 / 3;
  }
}

.flex-col-33 {
  padding-left: @grid-gutter-width/2;
  padding-right: @grid-gutter-width/2;

  @media @desktop {
    flex-basis: 100% / 3;
    max-width: 100% / 3;
  }
}

.fixed-bar-bottom {
  backface-visibility: hidden;
  position: fixed !important;
  bottom: 0px;
  height: 0px;
  width: 100%;
  margin-bottom: 0px;

  // chrome sets stacking context on `position: fixed` elements.
  // reference: https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Understanding_z_index/The_stacking_context
  z-index: 10;

  @media @desktop {
    width: @container-sm;
  }
}

.avatar {
  @default-avatar-size: 70px;
  width: @default-avatar-size;
  height: @default-avatar-size;

  &:extend(.default-box-shadow);
  &:extend(.default-border-radius);

  background-color: #fff;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: 50% 50%;
}

.avatar--guest {
  background-image: url("/images/layout/avatar-guest.png");
  @media @highdpi {
    background-image: url("/images/layout/avatar-guest.png");
  }
}

.avatar--full {
  width: 100%;
  height: 0px;
  padding-bottom: 100%;
  box-shadow: none;
  border-radius: 0px;
}

.user-icon {
  .icon-bg;
  &:extend(.default-box-shadow);

  color: #fff;
  font-size: 12px;
  .center-content;

  .circle(26px);
  padding: 0px;
  border: 2px solid white;
}

.compact > * {
  margin: 0px;
}

.file-upload-input {
  opacity: 0;
  position: absolute;

  // ensure it doesn't mess up the pointer.
  top: 0px;
  right: 0px;
  width: 300%;
  height: 300%;

  cursor: pointer;
  &[disabled] {
    cursor: not-allowed;
  }
}

.file-upload-label {
  cursor: pointer;
  overflow: hidden;
}
