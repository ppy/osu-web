/**
 *    Copyright (c) ppy Pty Ltd <contact@ppy.sh>. Licensed under the GNU Affero General Public License v3.0.
 *    See the LICENCE file in the repository root for full licence text.
 */

.btn-circle {
  @top: btn-circle;
  .reset-input();
  .circle(@btn-circle-diameter);
  .default-box-shadow();
  cursor: pointer;
  display: inline-block;
  text-shadow: inherit;

  flex: none;
  background-color: @osu-colour-l4;
  color: @osu-colour-c1;
  transition: all 120ms ease-in-out;
  font-size: 14px;

  .link-hover({
    background-color: @osu-colour-l3;
    color: @osu-colour-c1;
    text-decoration: none;
    box-shadow: 0 5px 15px fade(#000, 40%);
  });

  &--bbcode {
    .default-text-shadow();
    margin: 2px;
    font-size: 13px;
    box-shadow: none;
    background-color: transparent;

    &:focus,
    &:hover,
    &:active {
      background-color: @osu-colour-l3;
    }
  }

  &--blank {
    background-color: transparent;
    box-shadow: none;
    opacity: 0.7;

    &:focus,
    &:hover,
    &:active {
      box-shadow: none;
    }
  }

  &--topic-entry {
    .circle(30px);
    box-shadow: none;
    margin: 2.5px;
    font-size: 14px;

    &:focus,
    &:hover,
    &:active {
      .default-box-shadow();
    }
  }

  &--topic-nav {
    margin: 0 3px;
  }

  &--activated, &.js-activated {
    background-color: @osu-colour-h2;
    color: @osu-colour-b5;

    &:focus,
    &:hover,
    &:active {
      background-color: @osu-colour-l3;
      color: @osu-colour-b5;
    }
  }

  // colour variations
  &--purple {
    background-color: @purple-dark;

    .link-hover({
      background-color: @purple;
    });

    &.@{top}--activated {
      background-color: @purple-light;

      .link-hover({
        background-color: @purple-lighter;
      });
    }
  }

  &--yellow {
    background-color: @yellow-dark;

    .link-hover({
      background-color: @yellow;
    });

    &.@{top}--activated {
      background-color: @yellow-light;

      .link-hover({
        background-color: @yellow-lighter;
      });
    }
  }

  // overrides everything else
  &[disabled],
  &.js-disabled,
  &--disabled {
    background-color: #333;
    cursor: not-allowed;

    // looks dumb if black and other buttons on the bar are not.
    .post-editor__toolbar & {
      background-color: @blue-darker;

      &::before {
        .full-size();
        .circle(@btn-circle-diameter);
        content: ' ';
        background-color: fade(#fff, 50%);
      }
    }
  }

  // some browsers can't display flex for <button>
  &__content {
    .center-content();
    height: 100%;
    width: 100%;
  }
}
